# run.bash & migrate.bash - Pimpe deine .bashrc auf ğŸ”ğŸ”¥
## Deine .bashrc
Deine .bashrc Datei ist ein Skript, das jedes mal bei deinem Shellzugriff aufgerufen wird. Hier kannst du verschiedene Werte setzen & Dein Leben dadurch leichter machen. Wir werden am Beispiel django jetzt Skripte fÃ¼r dein Projekt entwickeln, die dir den Start deines Projekts erleichtern. AuÃŸerdem werden wir deinen `python manage.py migrate` Befehl in einem Container absetzen, das erleichtert dir das Leben bei einem ganz schÃ¶n langen Befehl.

## Skripte anlegen
Lege bei dir in der Repository auf dem Level deines `docker-compose.yml` folgende Dateien an:
```
touch run.bash migrate.bash
chmod +x run.bash migrate.bash
```

Folgenden Inhalt brauchen deine Skripte:
`run.bash`
Hier kannst du deinen Start-Befehl mit allen Optionen einfÃ¼genIch nutze -f, wegen dem speziellen Dateinamen mit --build Baue Ich die images neu vor Containerstart
```
#!/bin/bash
docker compose -f docker-compose.development.yml up --build
```

`migrate.bash`
Mit `exec -it container_name sh -c` kÃ¶nnen wir unseren migrate Befehl absetzen. Alles in AnfÃ¼hrungszeichen wird direkt im Container ausgefÃ¼hrt.
```
docker exec -it meine_app sh -c "python manage.py makemigrations && python manage.py migrate"
```

Weil wir den container namen in der `migrate.bash` nutzen, muss du jetzt noch deine docker-compose Datei anpassen:
```
services:
  meine_app:
    # wir nutzen den Container Namen in migrate.bash
    container_name: meine_app
```

## Skripte in der .bashrc hinzufÃ¼gen
FÃ¼ge deine Skripte deiner .bashrc (oder bei mac .zshrc) Hinzu. Die .bashrc / .zshrc befinden sich in deinem home - Verzeichnis.
```
code ~/.bashrc
vi ~/.bashrc
```

Wenn du nun "run" als App-Startbefehl nutzen willst und "migrate" als migrierbefehl, kannst du Folgendes hinzufÃ¼gen:
```
# selfmade build and run scripts
alias run="./run.bash"
alias migrate="./migrate.bash"
```

Du kannst natÃ¼rlich deine Skripte anders nennen, und den Befehl zum ausfÃ¼hren der Skripte auch... Es macht aber Sinn, wenn du mehrere Projekte starten / migrieren musst, den Befehl einheitlich zu halten.
Jetzt kannst du nÃ¤mlich in jedem Projekt ein run.bash hinzufÃ¼gen. Solange der name des Skriptes "run.bash" bleibt, reicht es jetzt `run` auszufÃ¼hren - Deine App startet.
Du kannst den Skriptinhalt auch verÃ¤ndern, wenn du bei unterschiedlichen Projekten deine App verschieden Starten willst. 

Happy Coden!
Dein Ruben

[Mein Blog](rubenvoss.de)
